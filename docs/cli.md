# Vogix CLI Tool

The Vogix CLI is the primary user interface for managing themes in the Vogix16 system.

## Commands

### Core Theme Management

```bash
# Toggle between dark and light variants (auto-detects current variant)
vogix switch

# Switch to a different theme (maintains current variant)
vogix theme aikido
vogix theme synthwave

# List available themes
vogix list

# Show current theme and variant
vogix status

# Generate shell completions
vogix completions bash
```

### Configuration

The CLI is configured via the home-manager module:

```nix
programs.vogix16 = {
  enable = true;
  defaultTheme = "aikido";
  defaultVariant = "dark";

  # Per-app overrides (optional)
  alacritty.theme = "forest";  # Override theme for specific app
  btop.variant = "light";       # Override variant for specific app
};
```

Runtime configuration is automatically generated at `/run/user/UID/vogix16/manifest.toml`.

## System Integration

The CLI tool handles runtime theme management:

1. **Symlink Management**: Updates the `current-theme` symlink to switch between pre-generated theme configurations
2. **State Persistence**: Saves the current theme and variant selection
3. **Theme Validation**: Verifies that requested theme-variant combinations exist
4. **Application Reloading**: Triggers applications to reload their configurations

Note: All theme configurations are pre-generated by Nix at build time. The CLI does **not** generate configs - it only manages symlinks and triggers reloads.

## Implementation Details

The vogix CLI is implemented in Rust and provides:

- Fast, efficient theme switching via symlink updates
- Command completion for all major shells
- Error handling for missing themes or applications
- Theme discovery from `/run/user/UID/vogix16/themes/`
- State management at `/run/user/UID/vogix16/state/`

For details on how applications are reloaded, see [Reload Mechanism](reload.md).

