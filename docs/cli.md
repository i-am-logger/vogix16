# Vogix CLI Tool

The Vogix CLI is the primary user interface for managing themes in the Vogix system.

## Commands

### Theme Selection

```bash
# Set scheme, theme, and variant
vogix -s base16 -t catppuccin -v mocha

# Set just the theme (keeps current scheme)
vogix -t dracula

# Set just the variant
vogix -v dark
```

### Variant Navigation

Navigate through variants by polarity (light-to-dark ordering):

```bash
# Move to the next darker variant
vogix -v darker

# Move to the next lighter variant
vogix -v lighter

# Jump to the theme's default dark variant
vogix -v dark

# Jump to the theme's default light variant
vogix -v light
```

**Example with catppuccin** (variants ordered: latte → frappe → macchiato → mocha):
- From `mocha`: `-v lighter` → `macchiato`
- From `latte`: `-v darker` → `frappe`
- From any: `-v dark` → `mocha` (default dark)
- From any: `-v light` → `latte` (default light)

**Single-variant themes** (like dracula): All navigation commands resolve to the only available variant.

### Listing

```bash
# List all schemes with theme counts
vogix list

# Output:
# vogix16  (19 themes)
# base16   (298 themes)
# base24   (178 themes)
# ansi16   (452 themes)

# List themes in a specific scheme
vogix list -s base16

# Output:
# catppuccin (4 variants)
# dracula (1 variant)
# gruvbox (6 variants)
# nord (1 variant)
# ...
```

### Status

```bash
vogix status

# Output:
# Scheme:  base16
# Theme:   catppuccin
# Variant: mocha
```

### Shell Completions

```bash
vogix completions bash > ~/.local/share/bash-completion/completions/vogix
vogix completions zsh > ~/.local/share/zsh/site-functions/_vogix
vogix completions fish > ~/.config/fish/completions/vogix.fish
```

## CLI Flags Reference

| Flag | Long | Description |
|------|------|-------------|
| `-s` | `--scheme` | Set the color scheme (vogix16, base16, base24, ansi16) |
| `-t` | `--theme` | Set the theme within the current/specified scheme |
| `-v` | `--variant` | Set or navigate variants (name, dark, light, darker, lighter) |

## Configuration

The CLI is configured via the home-manager module:

```nix
programs.vogix = {
  enable = true;
  defaultScheme = "vogix16";
  defaultTheme = "aikido";
  defaultVariant = "dark";
};

Runtime configuration is automatically generated at `/run/user/UID/vogix/manifest.toml`.


## System Integration

The CLI tool handles runtime theme management:

1. **Symlink Management**: Updates the `current-theme` symlink to switch between pre-generated theme configurations
2. **State Persistence**: Saves the current scheme, theme, and variant selection
3. **Theme Validation**: Verifies that requested scheme-theme-variant combinations exist
4. **Application Reloading**: Triggers applications to reload their configurations

Note: All theme configurations are pre-generated by Nix at build time. The CLI does **not** generate configs - it only manages symlinks and triggers reloads.

## Implementation Details

The vogix CLI is implemented in Rust and provides:

- Fast, efficient theme switching via symlink updates
- Polarity-based variant navigation (darker/lighter)
- Luminance-based automatic variant ordering
- Command completion for all major shells
- Error handling for missing themes or applications
- Theme discovery from `/run/user/UID/vogix/themes/`
- State management at `/run/user/UID/vogix/state/`

For details on how applications are reloaded, see [Reload Mechanism](reload.md).
