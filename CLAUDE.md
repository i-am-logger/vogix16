# CLAUDE.md

This file provides guidance to Claude Code (claude.ai/code) when working with code in this repository.

## Project Overview

Vogix16 is a minimalist design system and runtime theme management system for NixOS. It combines:
- **Design System**: A 16-color palette with functional semantic meaning (docs/design-system.md)
- **Runtime Theme Management**: Dynamic theme switching without NixOS rebuilds
- **NixOS Integration**: Seamless integration with home-manager for configuration management

The project is documentation-focused, defining standards and architecture for a system to be implemented.

## Architecture

### Directory Structure Philosophy

The system uses a three-tier directory approach:

```
/run/user/1000/home-manager/.config/  # Base configs generated by home-manager
/run/user/1000/vogix16/themes/        # Themed variations (theme-variant pairs)
~/.config/                            # Symlinks pointing to current theme
```

When users switch themes, symlinks are updated and applications are notified to reload - no rebuild required.

### Key Components

1. **Theme Definitions**: Color palettes in the Vogix16 format (16 colors: base00-base0F)
2. **Theme Generator**: Processes base configs with theme colors using templates
3. **Vogix CLI**: Command-line tool for theme switching (planned implementation in Rust)
4. **Reload Mechanism**: Configuration-driven application reload system (supports DBus, signals, IPC, etc.)

See docs/architecture.md for detailed component interaction.

## Color System

Vogix16 uses 16 colors with strict semantic assignments:

**Monochromatic Base (base00-base07)**: Any color family forming a progression from darkest to lightest (or reverse for light variants). Not limited to grayscale - can be green, blue, sepia, etc.

**Functional Colors (base08-base0F)**: Semantic purpose-driven colors
- base08: Error/Danger
- base09: Warning/Caution
- base0A: Notice/Attention
- base0B: Success/Confirmed
- base0C: Active/Current
- base0D: Information/Interactive
- base0E: Focus/Highlight
- base0F: Special States

Critical distinction from Base16: Colors are assigned by semantic function, not by specific hues. Themes can use non-traditional color associations (e.g., blue for errors, orange for success) as long as semantic meaning remains consistent.

## Theme Structure

Themes define both dark and light variants. The base colors reverse between variants:
- Dark variant: base00 = darkest, base07 = lightest
- Light variant: base00 = lightest, base07 = darkest

Functional colors maintain their semantic meaning across both variants.

See docs/theming.md for theme format specification and docs/design-system.md for color philosophy.

## Documentation Structure

- **README.md**: Project introduction and philosophy
- **docs/architecture.md**: System architecture and home-manager integration
- **docs/design-system.md**: Color system definition and Vogix16 vs Base16 differences
- **docs/cli.md**: Vogix CLI tool commands and configuration
- **docs/theming.md**: Theme format, templates, and processing
- **docs/reload.md**: Application reload mechanism configuration
- **themes/README.md**: Theme catalog organized by category

## Implementation Notes

The vogix CLI tool (planned in Rust) will handle:
- XDG directory monitoring
- Symlink management for ~/.config/ entries
- State persistence (current theme/variant)
- Theme generation from templates
- Application reload triggering

Application reload is configuration-driven. Each app defines its reload method (DBus, signal, IPC, socket, custom command, or filesystem watch). See docs/reload.md for supported methods.

## Design Philosophy

"Less is more" approach:
- Colors used intentionally for functional value only
- Interface surfaces use monochromatic scale
- True distinct colors reserved for elements requiring visual distinction
- Dark and light variants maintain semantic consistency

## License

Creative Commons Attribution-NonCommercial-ShareAlike (CC BY-NC-SA) 4.0 International
